# production/deployment/checklist.md

# 龜馬山志工排班系統 - 部署檢查清單

## 部署前檢查 (Pre-deployment)

### 1. 系統準備
- [ ] 確認伺服器資源 (CPU, RAM, 磁碟空間)
- [ ] 確認 Docker 和 Docker Compose 已安裝
- [ ] 確認防火牆設定允許 80/443/3001 端口
- [ ] 確認 SSL 證書已準備 (Let's Encrypt 或其他)

### 2. 環境變數
- [ ] `JWT_SECRET` - JWT 密鑰已設定
- [ ] `DB_PATH` - 資料庫路徑已設定
- [ ] `CORS_ORIGIN` - CORS 允許域名已設定
- [ ] `EMAIL_*` - 電子郵件配置已設定 (如果需要)

### 3. 資料庫檢查
- [ ] 資料庫備份已建立
- [ ] 資料庫結構已驗證
- [ ] 資料完整性檢查完成

### 4. 應用程式檢查
- [ ] 所有測試通過
- [ ] 效能測試完成
- [ ] 安全掃描完成
- [ ] 程式碼審查完成

## 部署中檢查 (During deployment)

### 1. 服務啟動
- [ ] Docker 容器成功啟動
- [ ] Nginx 代理正常工作
- [ ] API 服務可訪問
- [ ] 前端頁面正常加載

### 2. 功能驗證
- [ ] 使用者註冊/登入功能
- [ ] 志工管理功能
- [ ] 排班管理功能
- [ ] 通知系統功能
- [ ] 報告系統功能

### 3. 效能驗證
- [ ] 響應時間在可接受範圍內
- [ ] 記憶體使用正常
- [ ] 資料庫連接正常
- [ ] 快取系統正常

## 部署後檢查 (Post-deployment)

### 1. 系統監控
- [ ] 健康檢查端點可訪問
- [ ] 效能指標端點正常
- [ ] 日誌系統正常運作
- [ ] 監控儀表板正常

### 2. 安全檢查
- [ ] SSL 憑證正常工作
- [ ] 安全頭部設定正確
- [ ] 速率限制正常工作
- [ ] 資料庫連接安全

### 3. 使用者驗證
- [ ] 現有用戶可正常登入
- [ ] 資料完整性驗證
- [ ] 功能回歸測試

## 回滾計劃 (Rollback Plan)

### 1. 回滾觸發條件
- [ ] 服務不可用超過 5 分鐘
- [ ] 關鍵功能失敗
- [ ] 效能嚴重下降
- [ ] 安全漏洞發現

### 2. 回滾步驟
- [ ] 停止新版本服務
- [ ] 啟動備份版本
- [ ] 驗證回滾成功
- [ ] 通知相關人員

## 維護計劃 (Maintenance Plan)

### 1. 定期維護
- [ ] 每週資料庫備份
- [ ] 每月安全更新
- [ ] 每季度效能優化
- [ ] 每年 SSL 證書更新

### 2. 監控指標
- [ ] 服務可用性 > 99.9%
- [ ] 響應時間 < 500ms
- [ ] 記憶體使用 < 80%
- [ ] CPU 使用 < 80%
